<!DOCTYPE html>
<html ng-app="myApp">

	<head lang="en">
		<meta charset="UTF-8">
		<title>ZZCMS系统管理</title>
		<link rel="stylesheet" type="text/css" href="/src/less/home.css">
	</head>

	<body>
		<div class="navbar navbar-default">
			<div class="container-fuild">
				<div class="navbar-header">
					<a href="./index.html" class="navbar-brand"><img src="/src/images/logo.png"></a>
					<a href="/#mymenu" class="navbar-toggle" data-toggle="collapse"> <span class="icon-bar"></span> <span class="icon-bar"></span>
						<span class="icon-bar"></span></a>
				</div>
				<div class="navbar-collapse collapse" id="mymenu">
					<ul class="nav navbar-nav navbar-right">
						<li>
							<a href="/logout">{{username}}</a>
						</li>
					</ul>
				</div>
			</div>
		</div>

		<nav id="nav" class="navLeft">
			<ul class="nav-list" id="sidebar">
				<li>
					<a href="/" target="_blank"><i class="glyphicon glyphicon-home"></i><span class="menu-text">前台首页</span>
					</a>
				</li>
				<!--<li>
					<a href="./index.html"><i class="glyphicon glyphicon-home"></i><span class="menu-text">首页</span>
					</a>
				</li>-->
				<li>
					<a href="/#users" data-toggle="collapse"><i class="glyphicon glyphicon-user"></i> <span class="menu-text">用户管理</span><b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="users">
						<li>
							<a href="./users.html" target="main">用户列表</a> |
							<a href="./userAdd.html" target="main">添加</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="/#boffin" data-toggle="collapse"><i class="glyphicon glyphicon-sunglasses"></i> <span class="menu-text">研究员管理</span><b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="boffin">
						<li>
							<a href="./boffins.html" target="main">研究员列表</a> |
							<a href="./addBoffins.html" target="main">添加</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="/#class" data-toggle="collapse"><i class="glyphicon glyphicon-menu-hamburger"></i> <span class="menu-text">分类管理</span><b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="class">
						<li>
							<a href="./reportClassList.html" target="main">报告分类</a> |
							<a href="./reportClassAdd.html" target="main">添加</a>
						</li>
						<li>
							<a href="./newsClassList.html" target="main">新闻分类</a> |
							<a href="./newsClassAdd.html" target="main">添加</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="/#reports" data-toggle="collapse"><i class="glyphicon glyphicon-duplicate"></i> <span class="menu-text">报告管理</span><b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="reports">
						<li>
							<a href="./reports.html" target="main">报告列表</a> |
							<a href="./addReport.html" target="main">添加</a>
						</li>
						<li>
							<a href="./reportCover.html" target="main">报告封面生成</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="/#ads" data-toggle="collapse"><i class="glyphicon glyphicon-list-alt"></i> <span class="menu-text">头条/广告管理</span><b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="ads">
						<li>
							<a href="./ads.html" target="main">广告列表</a> |
							<a href="./adAdd.html" target="main">添加</a>
						</li>
						<li>
							<a href="./headlines.html" target="main">网站头条设置</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="/#infoRepertory" data-toggle="collapse"><i class="glyphicon  glyphicon-circle-arrow-down"></i> <span class="menu-text">信息仓库(采集)</span><b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="infoRepertory">
						<li>
							<a href="./infoRepertorys.html" target="main">信息列表</a> |
							<a href="./infoRepertoryAdd.html" target="main">新增</a>
						</li>
					</ul>
				</li>
				<li>
					<a href="/#navNewsClass" data-toggle="collapse"> <i class="glyphicon glyphicon glyphicon-list"></i> <span class="menu-text">新闻管理</span> <b class="arrow icon-angle-down"></b>
					</a>
					<ul class="submenu collapse" id="navNewsClass"></ul>
				</li>
			</ul>
		</nav>
		<div class="clickSide"></div>
		<article class="article">
			<div class="crumbs" id="crumbs">
				<ul>
					<li>首页<span class="s"> / </span></li>
					<li>欢迎页<span class="s"> / </span></li>
					<li></li>
				</ul>
			</div>
			<iframe width="100%" height="100%" name="main" src="./welcome.html" frameborder="no" border="0"> 您的浏览器不支持框架!</iframe>
		</article>

		<script src="/src/lib/js/jquery-1.11.1.js"></script>
		<script src="/src/lib/js/bootstrap.min.js"></script>
		<script src="/src/js/common.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			if('{{success}}') alert('{{success}}');
			$(function() {
				//菜单收展
				$(".clickSide").on("click", function() {
					if(!$("#nav").attr("style")) {
						$("#nav").attr("style", "width:0px;")
						$(".article").attr("style", "margin-left:0px;")
					} else {
						$("#nav").removeAttr("style")
						$(".article").attr("style")
					}
				})
				//高度自适应
				$("#nav,.clickSide,.article").attr("style", "height:" + ($(document).height() - 75) + "px");

				getNewsClassList();

			})

			function getNewsClassList() {
				//获取左侧树新闻栏目
				var html = "";
				$.get(ajaxConfig.newsClassList, function(res) {
					if(res.length != 0) {
						res.forEach(function(val, index) {
							html += '<li id="' + 'firstId' + val.id + '"><a href="/#' + val.id + '" target="main"  data-toggle="collapse"> ' + val.subTitle + '</a>';
							if(val.child.length != 0) {
								var children = '<ul class="collapse" id="' + val.id + '">';
								val.child.forEach(function(v, i) {
									children += '<li><a href="./newsList?newsClassId=' + v.id + '" target="main"> ' + v.subTitle + '</a> | <a href="./addNews?classChildId=' + v.id + '&&classFirstId=' + val.id + '" target="main">添加</a></li>';
								})
								children += '</ul>'
							} else {
								var children = '<ul id="' + val.id + '"><li>没有子分类!</li></ul>';
							}
							html += children + "</li>";

						})
						$("#navNewsClass").empty().append(html);
					}
				})
			}
		</script>
	</body>

</html>